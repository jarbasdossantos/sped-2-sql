use crate::models::traits::{Model, ModelFactory};
use crate::SpedType;
use lazy_static::lazy_static;
use std::collections::HashMap;
use std::sync::Mutex;

lazy_static! {
    static ref REGISTRY: Mutex<HashMap<&'static str, Box<dyn ModelFactory + Send + Sync>>> =
        Mutex::new(HashMap::new());
}

pub(crate) fn register(factory: Box<dyn ModelFactory + Send + Sync>) {
    let reg = factory.handle_reg();
    let mut registry = REGISTRY.lock().unwrap();

    registry.insert(reg, factory);
}

pub fn create_model(
    reg: &str,
    fields: Vec<&str>,
    id: Option<i32>,
    parent_id: Option<i32>,
    file_id: i32,
    sped_type: SpedType,
) -> Option<Box<dyn Model>> {
    let registry = REGISTRY.lock().unwrap();

    let model = registry
        .get(reg)
        .map(|f| f.create_model(fields, id, parent_id, file_id));

    model
}

pub fn register_efd_models() {
    crate::models::efd::efd_0000::register();
    crate::models::efd::efd_0001::register();
    crate::models::efd::efd_0035::register();
    crate::models::efd::efd_0100::register();
    crate::models::efd::efd_0110::register();
    crate::models::efd::efd_0111::register();
    crate::models::efd::efd_0120::register();
    crate::models::efd::efd_0140::register();
    crate::models::efd::efd_0145::register();
    crate::models::efd::efd_0150::register();
    crate::models::efd::efd_0190::register();
    crate::models::efd::efd_0200::register();
    crate::models::efd::efd_0205::register();
    crate::models::efd::efd_0206::register();
    crate::models::efd::efd_0208::register();
    crate::models::efd::efd_0400::register();
    crate::models::efd::efd_0450::register();
    crate::models::efd::efd_0500::register();
    crate::models::efd::efd_0600::register();
    crate::models::efd::efd_0990::register();
    crate::models::efd::efd_1001::register();
    crate::models::efd::efd_1010::register();
    crate::models::efd::efd_1020::register();
    crate::models::efd::efd_1100::register();
    crate::models::efd::efd_1300::register();
    crate::models::efd::efd_1500::register();
    crate::models::efd::efd_1700::register();
    crate::models::efd::efd_1800::register();
    crate::models::efd::efd_1900::register();
    crate::models::efd::efd_1990::register();
    crate::models::efd::efd_9001::register();
    crate::models::efd::efd_9900::register();
    crate::models::efd::efd_9990::register();
    crate::models::efd::efd_9999::register();
    crate::models::efd::efd_a001::register();
    crate::models::efd::efd_a010::register();
    crate::models::efd::efd_a100::register();
    crate::models::efd::efd_a110::register();
    crate::models::efd::efd_a111::register();
    crate::models::efd::efd_a120::register();
    crate::models::efd::efd_a170::register();
    crate::models::efd::efd_a990::register();
    crate::models::efd::efd_c001::register();
    crate::models::efd::efd_c010::register();
    crate::models::efd::efd_c100::register();
    crate::models::efd::efd_c110::register();
    crate::models::efd::efd_c111::register();
    crate::models::efd::efd_c120::register();
    crate::models::efd::efd_c170::register();
    crate::models::efd::efd_c180::register();
    crate::models::efd::efd_c181::register();
    crate::models::efd::efd_c185::register();
    crate::models::efd::efd_c188::register();
    crate::models::efd::efd_c190::register();
    crate::models::efd::efd_c191::register();
    crate::models::efd::efd_c195::register();
    crate::models::efd::efd_c198::register();
    crate::models::efd::efd_c199::register();
    crate::models::efd::efd_c380::register();
    crate::models::efd::efd_c381::register();
    crate::models::efd::efd_c385::register();
    crate::models::efd::efd_c395::register();
    crate::models::efd::efd_c396::register();
    crate::models::efd::efd_c400::register();
    crate::models::efd::efd_c405::register();
    crate::models::efd::efd_c481::register();
    crate::models::efd::efd_c485::register();
    crate::models::efd::efd_c489::register();
    crate::models::efd::efd_c490::register();
    crate::models::efd::efd_c491::register();
    crate::models::efd::efd_c495::register();
    crate::models::efd::efd_c499::register();
    crate::models::efd::efd_c500::register();
    crate::models::efd::efd_c501::register();
    crate::models::efd::efd_c505::register();
    crate::models::efd::efd_c509::register();
    crate::models::efd::efd_c600::register();
    crate::models::efd::efd_c601::register();
    crate::models::efd::efd_c605::register();
    crate::models::efd::efd_c609::register();
    crate::models::efd::efd_c990::register();
    crate::models::efd::efd_d001::register();
    crate::models::efd::efd_d010::register();
    crate::models::efd::efd_d100::register();
    crate::models::efd::efd_d101::register();
    crate::models::efd::efd_d105::register();
    crate::models::efd::efd_d111::register();
    crate::models::efd::efd_d200::register();
    crate::models::efd::efd_d201::register();
    crate::models::efd::efd_d205::register();
    crate::models::efd::efd_d209::register();
    crate::models::efd::efd_d300::register();
    crate::models::efd::efd_d309::register();
    crate::models::efd::efd_d350::register();
    crate::models::efd::efd_d359::register();
    crate::models::efd::efd_d500::register();
    crate::models::efd::efd_d501::register();
    crate::models::efd::efd_d505::register();
    crate::models::efd::efd_d509::register();
    crate::models::efd::efd_d600::register();
    crate::models::efd::efd_d601::register();
    crate::models::efd::efd_d605::register();
    crate::models::efd::efd_d609::register();
    crate::models::efd::efd_d990::register();
    crate::models::efd::efd_f001::register();
    crate::models::efd::efd_f010::register();
    crate::models::efd::efd_f100::register();
    crate::models::efd::efd_f111::register();
    crate::models::efd::efd_f120::register();
    crate::models::efd::efd_f129::register();
    crate::models::efd::efd_f130::register();
    crate::models::efd::efd_f139::register();
    crate::models::efd::efd_f150::register();
    crate::models::efd::efd_f200::register();
    crate::models::efd::efd_f205::register();
    crate::models::efd::efd_f210::register();
    crate::models::efd::efd_f211::register();
    crate::models::efd::efd_f500::register();
    crate::models::efd::efd_f509::register();
    crate::models::efd::efd_f510::register();
    crate::models::efd::efd_f519::register();
    crate::models::efd::efd_f525::register();
    crate::models::efd::efd_f550::register();
    crate::models::efd::efd_f559::register();
    crate::models::efd::efd_f560::register();
    crate::models::efd::efd_f569::register();
    crate::models::efd::efd_f600::register();
    crate::models::efd::efd_f700::register();
    crate::models::efd::efd_f800::register();
    crate::models::efd::efd_f990::register();
    crate::models::efd::efd_i001::register();
    crate::models::efd::efd_i010::register();
    crate::models::efd::efd_i100::register();
    crate::models::efd::efd_i199::register();
    crate::models::efd::efd_i200::register();
    crate::models::efd::efd_i299::register();
    crate::models::efd::efd_i300::register();
    crate::models::efd::efd_i399::register();
    crate::models::efd::efd_i990::register();
    crate::models::efd::efd_m001::register();
    crate::models::efd::efd_m100::register();
    crate::models::efd::efd_m105::register();
    crate::models::efd::efd_m110::register();
    crate::models::efd::efd_m200::register();
    crate::models::efd::efd_m205::register();
    crate::models::efd::efd_m210::register();
    crate::models::efd::efd_m211::register();
    crate::models::efd::efd_m220::register();
    crate::models::efd::efd_m230::register();
    crate::models::efd::efd_m300::register();
    crate::models::efd::efd_m350::register();
    crate::models::efd::efd_m400::register();
    crate::models::efd::efd_m410::register();
    crate::models::efd::efd_m500::register();
    crate::models::efd::efd_m505::register();
    crate::models::efd::efd_m510::register();
    crate::models::efd::efd_m600::register();
    crate::models::efd::efd_m605::register();
    crate::models::efd::efd_m610::register();
    crate::models::efd::efd_m611::register();
    crate::models::efd::efd_m620::register();
    crate::models::efd::efd_m630::register();
    crate::models::efd::efd_m700::register();
    crate::models::efd::efd_m800::register();
    crate::models::efd::efd_m810::register();
    crate::models::efd::efd_m990::register();
    crate::models::efd::efd_p001::register();
    crate::models::efd::efd_p010::register();
    crate::models::efd::efd_p100::register();
    crate::models::efd::efd_p110::register();
    crate::models::efd::efd_p199::register();
    crate::models::efd::efd_p200::register();
    crate::models::efd::efd_p210::register();
    crate::models::efd::efd_p990::register();
}

pub fn register_icms_ipi_models() {
    crate::models::icms_ipi::reg_0000::register();
    crate::models::icms_ipi::reg_0001::register();
    crate::models::icms_ipi::reg_0005::register();
    crate::models::icms_ipi::reg_0015::register();
    crate::models::icms_ipi::reg_0100::register();
    crate::models::icms_ipi::reg_0150::register();
    crate::models::icms_ipi::reg_0175::register();
    crate::models::icms_ipi::reg_0190::register();
    crate::models::icms_ipi::reg_0210::register();
    crate::models::icms_ipi::reg_0220::register();
    crate::models::icms_ipi::reg_0300::register();
    crate::models::icms_ipi::reg_0305::register();
    crate::models::icms_ipi::reg_0460::register();
    crate::models::icms_ipi::reg_0500::register();
    crate::models::icms_ipi::reg_1010::register();
    crate::models::icms_ipi::reg_1100::register();
    crate::models::icms_ipi::reg_1105::register();
    crate::models::icms_ipi::reg_1110::register();
    crate::models::icms_ipi::reg_1200::register();
    crate::models::icms_ipi::reg_1210::register();
    crate::models::icms_ipi::reg_1300::register();
    crate::models::icms_ipi::reg_1310::register();
    crate::models::icms_ipi::reg_1320::register();
    crate::models::icms_ipi::reg_1350::register();
    crate::models::icms_ipi::reg_1360::register();
    crate::models::icms_ipi::reg_1370::register();
    crate::models::icms_ipi::reg_1390::register();
    crate::models::icms_ipi::reg_1391::register();
    crate::models::icms_ipi::reg_1400::register();
    crate::models::icms_ipi::reg_1500::register();
    crate::models::icms_ipi::reg_1510::register();
    crate::models::icms_ipi::reg_1600::register();
    crate::models::icms_ipi::reg_1700::register();
    crate::models::icms_ipi::reg_1710::register();
    crate::models::icms_ipi::reg_1800::register();
    crate::models::icms_ipi::reg_1900::register();
    crate::models::icms_ipi::reg_1910::register();
    crate::models::icms_ipi::reg_1920::register();
    crate::models::icms_ipi::reg_1921::register();
    crate::models::icms_ipi::reg_1922::register();
    crate::models::icms_ipi::reg_1923::register();
    crate::models::icms_ipi::reg_1925::register();
    crate::models::icms_ipi::reg_1926::register();
    crate::models::icms_ipi::reg_c105::register();
    crate::models::icms_ipi::reg_c112::register();
    crate::models::icms_ipi::reg_c113::register();
    crate::models::icms_ipi::reg_c114::register();
    crate::models::icms_ipi::reg_c115::register();
    crate::models::icms_ipi::reg_c116::register();
    crate::models::icms_ipi::reg_c120::register();
    crate::models::icms_ipi::reg_c130::register();
    crate::models::icms_ipi::reg_c140::register();
    crate::models::icms_ipi::reg_c141::register();
    crate::models::icms_ipi::reg_c160::register();
    crate::models::icms_ipi::reg_c165::register();
    crate::models::icms_ipi::reg_c170::register();
    crate::models::icms_ipi::reg_c171::register();
    crate::models::icms_ipi::reg_c172::register();
    crate::models::icms_ipi::reg_c173::register();
    crate::models::icms_ipi::reg_c174::register();
    crate::models::icms_ipi::reg_c175::register();
    crate::models::icms_ipi::reg_c176::register();
    crate::models::icms_ipi::reg_c177::register();
    crate::models::icms_ipi::reg_c178::register();
    crate::models::icms_ipi::reg_c179::register();
    crate::models::icms_ipi::reg_c190::register();
    crate::models::icms_ipi::reg_c195::register();
    crate::models::icms_ipi::reg_c197::register();
    crate::models::icms_ipi::reg_c300::register();
    crate::models::icms_ipi::reg_c310::register();
    crate::models::icms_ipi::reg_c320::register();
    crate::models::icms_ipi::reg_c321::register();
    crate::models::icms_ipi::reg_c350::register();
    crate::models::icms_ipi::reg_c370::register();
    crate::models::icms_ipi::reg_c390::register();
    crate::models::icms_ipi::reg_c410::register();
    crate::models::icms_ipi::reg_c420::register();
    crate::models::icms_ipi::reg_c425::register();
    crate::models::icms_ipi::reg_c460::register();
    crate::models::icms_ipi::reg_c465::register();
    crate::models::icms_ipi::reg_c470::register();
    crate::models::icms_ipi::reg_c490::register();
    crate::models::icms_ipi::reg_c495::register();
    crate::models::icms_ipi::reg_c500::register();
    crate::models::icms_ipi::reg_c510::register();
    crate::models::icms_ipi::reg_c590::register();
    crate::models::icms_ipi::reg_c601::register();
    crate::models::icms_ipi::reg_c610::register();
    crate::models::icms_ipi::reg_c690::register();
    crate::models::icms_ipi::reg_c700::register();
    crate::models::icms_ipi::reg_c790::register();
    crate::models::icms_ipi::reg_c791::register();
    crate::models::icms_ipi::reg_c800::register();
    crate::models::icms_ipi::reg_c850::register();
    crate::models::icms_ipi::reg_c860::register();
    crate::models::icms_ipi::reg_c890::register();
    crate::models::icms_ipi::reg_d100::register();
    crate::models::icms_ipi::reg_d110::register();
    crate::models::icms_ipi::reg_d120::register();
    crate::models::icms_ipi::reg_d130::register();
    crate::models::icms_ipi::reg_d140::register();
    crate::models::icms_ipi::reg_d150::register();
    crate::models::icms_ipi::reg_d160::register();
    crate::models::icms_ipi::reg_d161::register();
    crate::models::icms_ipi::reg_d162::register();
    crate::models::icms_ipi::reg_d170::register();
    crate::models::icms_ipi::reg_d180::register();
    crate::models::icms_ipi::reg_d190::register();
    crate::models::icms_ipi::reg_d195::register();
    crate::models::icms_ipi::reg_d197::register();
    crate::models::icms_ipi::reg_d300::register();
    crate::models::icms_ipi::reg_d301::register();
    crate::models::icms_ipi::reg_d310::register();
    crate::models::icms_ipi::reg_d350::register();
    crate::models::icms_ipi::reg_d355::register();
    crate::models::icms_ipi::reg_d360::register();
    crate::models::icms_ipi::reg_d365::register();
    crate::models::icms_ipi::reg_d370::register();
    crate::models::icms_ipi::reg_d390::register();
    crate::models::icms_ipi::reg_d400::register();
    crate::models::icms_ipi::reg_d410::register();
    crate::models::icms_ipi::reg_d411::register();
    crate::models::icms_ipi::reg_d420::register();
    crate::models::icms_ipi::reg_d510::register();
    crate::models::icms_ipi::reg_d530::register();
    crate::models::icms_ipi::reg_d590::register();
    crate::models::icms_ipi::reg_d600::register();
    crate::models::icms_ipi::reg_d610::register();
    crate::models::icms_ipi::reg_d690::register();
    crate::models::icms_ipi::reg_d695::register();
    crate::models::icms_ipi::reg_d696::register();
    crate::models::icms_ipi::reg_d697::register();
    crate::models::icms_ipi::reg_e001::register();
    crate::models::icms_ipi::reg_e100::register();
    crate::models::icms_ipi::reg_e110::register();
    crate::models::icms_ipi::reg_e111::register();
    crate::models::icms_ipi::reg_e112::register();
    crate::models::icms_ipi::reg_e113::register();
    crate::models::icms_ipi::reg_e115::register();
    crate::models::icms_ipi::reg_e116::register();
    crate::models::icms_ipi::reg_e200::register();
    crate::models::icms_ipi::reg_e210::register();
    crate::models::icms_ipi::reg_e220::register();
    crate::models::icms_ipi::reg_e230::register();
    crate::models::icms_ipi::reg_e240::register();
    crate::models::icms_ipi::reg_e250::register();
    crate::models::icms_ipi::reg_e500::register();
    crate::models::icms_ipi::reg_e510::register();
    crate::models::icms_ipi::reg_e520::register();
    crate::models::icms_ipi::reg_e530::register();
    crate::models::icms_ipi::reg_e990::register();
    crate::models::icms_ipi::reg_g001::register();
    crate::models::icms_ipi::reg_g110::register();
    crate::models::icms_ipi::reg_g125::register();
    crate::models::icms_ipi::reg_g126::register();
    crate::models::icms_ipi::reg_g130::register();
    crate::models::icms_ipi::reg_g140::register();
    crate::models::icms_ipi::reg_g990::register();
    crate::models::icms_ipi::reg_h001::register();
    crate::models::icms_ipi::reg_h005::register();
    crate::models::icms_ipi::reg_h010::register();
    crate::models::icms_ipi::reg_h020::register();
    crate::models::icms_ipi::reg_h990::register();
    crate::models::icms_ipi::reg_k001::register();
    crate::models::icms_ipi::reg_k100::register();
    crate::models::icms_ipi::reg_k200::register();
    crate::models::icms_ipi::reg_k220::register();
    crate::models::icms_ipi::reg_k230::register();
    crate::models::icms_ipi::reg_k235::register();
    crate::models::icms_ipi::reg_k250::register();
    crate::models::icms_ipi::reg_k255::register();
    crate::models::icms_ipi::reg_k990::register();
}
